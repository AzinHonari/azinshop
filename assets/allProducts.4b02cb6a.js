import{u as k,a as h,b}from"./states.15029e0f.js";import{p as v}from"./products.f5c581af.js";const d=(e,n)=>{const r=[];return v.filter(l=>e===void 0?l:l.category===e,e).filter(l=>n===void 0?l:l.subCategory===n,n).map(l=>{var t,a,c,s,o,u;for(let f=0;f<l.stockStatus.length;f++){const g=(t=l==null?void 0:l.stockStatus.find((i,p)=>p===f))==null?void 0:t.color;r.push({id:l==null?void 0:l.id,name:l==null?void 0:l.name,price:(a=l==null?void 0:l.stockStatus.find((i,p)=>p===f))==null?void 0:a.price,image:n==null?(c=l.images.find(i=>i.color===g))==null?void 0:c.url:`../${(s=l.images.find(i=>i.color===g))==null?void 0:s.url}`,category:l==null?void 0:l.category,subCategory:l==null?void 0:l.subCategory,color:g,stockNumber:(o=l==null?void 0:l.stockStatus.find((i,p)=>p===f))==null?void 0:o.stockNumber,available:(u=l==null?void 0:l.stockStatus.find((i,p)=>p===f))==null?void 0:u.available})}}),r},S=e=>{const n=[];return v.filter(r=>r.id===e,e).map(r=>{var l,t,a,c;for(let s=0;s<r.stockStatus.length;s++){const o=(l=r==null?void 0:r.stockStatus.find((u,f)=>f===s))==null?void 0:l.color;n.push({id:r==null?void 0:r.id,name:r==null?void 0:r.name,price:(t=r==null?void 0:r.stockStatus.find((u,f)=>f===s))==null?void 0:t.price,images:r.images.filter(u=>u.color===o),category:r==null?void 0:r.category,subCategory:r==null?void 0:r.subCategory,color:o,stockNumber:(a=r==null?void 0:r.stockStatus.find((u,f)=>f===s))==null?void 0:a.stockNumber,available:(c=r==null?void 0:r.stockStatus.find((u,f)=>f===s))==null?void 0:c.available,description:r.description,materials:r.materials,shippingAndReturn:r.shippingAndReturn,dimensions:r.dimensions,careInstructions:r.careInstructions})}}),n},y=e=>{const n=[];let r;return e.map(l=>{r=S(l.productId).find(t=>t.color===l.productColor),n.push({id:r.id,name:r.name,price:r.price,image:r.images[l.imageIndex].url,category:r.category,subCategory:r.subCategory})}),n},F=(e,n,r,l)=>{const t=[];k().value.filter(s=>{s.selected&&t.push(s.title)});let a="";h().value.filter(s=>{s.selected&&(a=s.title)});let c=[];if(b().value.filter(s=>{s.selected&&c.push(s.title)}),t.length&&a.length&&c.length){const s=a==="In stock"?!0:a==="Out of stock"?!1:void 0;return d(e,n).filter(o=>{if(s)return o.available===!0;if(!s)return o.available===!1}).filter(o=>t.find(u=>u===o.color)).filter(o=>c.find(u=>u===o.category))}else if(t.length&&a.length){const s=a==="In stock"?!0:a==="Out of stock"?!1:void 0;return d(e,n).filter(o=>{if(s)return o.available===!0;if(!s)return o.available===!1}).filter(o=>t.find(u=>u===o.color))}else{if(t.length&&c.length)return d(e,n).filter(s=>t.find(o=>o===s.color)).filter(s=>c.find(o=>o===s.category));if(c.length&&a.length){const s=a==="In stock"?!0:a==="Out of stock"?!1:void 0;return d(e,n).filter(o=>{if(s)return o.available===!0;if(!s)return o.available===!1}).filter(o=>c.find(u=>u===o.category))}else{if(t.length)return d(e,n).filter(s=>t.find(o=>o===s.color));if(a.length){const s=a==="In stock"?!0:a==="Out of stock"?!1:void 0;return d(e,n).filter(o=>{if(s)return o.available===!0;if(!s)return o.available===!1})}else return c.length?d(e,n).filter(s=>c.find(o=>o===s.category)):d(e,n)}}};export{F as a,y as b,d as c,S as g};
